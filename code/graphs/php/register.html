<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />	<title>注册</title>	<link rel="stylesheet" href="css/general.css" />	<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>	<script type="text/javascript" src="js/general.js"></script>	<script type="text/javascript">	function redirect() {		location.href = "mainpage.php";	}	function checkemail(){		var reg = /.+@.+\.[a-zA-Z]{2,4}$/;		if($("input[name='email']").val() == "") {			$("#email").html("邮箱不能为空").show();			return false;		} else if (!reg.test($("input[name='email']").val())) {			$("#email").html("非法的邮箱格式").show();			return false;		} else $("#email").html("<img src=\"image/ok.png\" />").show();		return true;	}	function checkpassword() {		if($("input[name='password']").val()=="") {			$("#password").html("密码不能为空").show();			return false;		} else $("#password").html("").show();		if($("input[name='password']").val()!= $("input[name='password2']").val()) {			$("#password2").html("输入密码不一致").show();			return false;		} else {			$("#password2").html("<img src=\"image/ok.png\" />").show();			$("#password").html("<img src=\"image/ok.png\" />").show();		}		return true;	}	function checknickname() {		if($("input[name='nickname']").val()=="") {			$("#nickname").html("姓名不能为空").show();			return false;		} else $("#nickname").html("<img src=\"image/ok.png\" />").show();		return true;	}	$(function(){		$(document).ready(function(){			$("#submit").html("带*号项为必填内容");			$("input[name='email']").bind({focus:checkemail, blur:checkemail});			$("input[name='password']").bind({focus:checkpassword, blur:checkpassword});			$("input[name='password2']").bind({focus:checkpassword, blur:checkpassword});			$("input[name='nickname']").bind({focus:checknickname, blur:checknickname});		});		$("#reg_button").click(function(){			//check email			if(!checkemail()) return false;			//check password			if(!checkpassword()) return false;			//check nickname			if(!checknickname()) return false;			//post			$.post("register.php",{				'email':$("input[name='email']").val(),				'password':$("input[name='password']").val(),				'nickname':$("input[name='nickname']").val(),				'school':$("input[name='school']").val(),			},function (data, textStatus){				if(data == "success"){					$("#submit").html("注册成功").fadeIn("slow, 1000").delay(5000).fadeOut("slow,1000");					setTimeout("redirect()", 100);				} else if(data == "user exist") {					$("#email").html("邮箱已注册").show();				} else {					$("#submit").html(data).fadeIn("slow, 1000").delay(5000).fadeOut("slow,1000");				}			});			return false;		});	});	</script></head><body><div id="pagebody">	<div id="login">	<h1 style="display:inline;">注册</h1>	<a href="index.html" style="margin-left:120px;">返回登录页面</a>	<form action="register.php" method="post">	<table>		<tr>			<td><div class="input-text">				邮箱* <input type="text" name="email"/>			</div></td>			<td id="email"></td>		</tr>		<tr>			<td><div class="input-text">				密码* <input type="password" name="password"/>			</div></td>			<td id="password"></td>		</tr>		<tr>			<td><div class="input-text">				确认密码* <input type="password" name="password2"/>			</div></td>			<td id="password2"></td>		</tr>		<tr>			<td><div class="input-text">				姓名* <input type="text" name="nickname"/>			</div></td>			<td id="nickname"></td>		</tr>		<tr>			<td><div class="input-text">				学校 <input type="text" name="school"/>			</div></td>			<td></td>		</tr>		<tr>			<td style="text-align:center;">				<input type="submit" value="注册" id="reg_button" class="input-button"/>				<input type="reset" value="重置" class="input-button" />			</td>			<td><span id="submit"></span></td>		</tr>	</table>	</form>	</div></div></body></html>