<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>JTrac</title><link rel="stylesheet" href="../styles/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="d0e2"></a>JTrac</h1></div><div><h2 class="subtitle">User / Developer Guide</h2></div><div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="authorgroup"><h2>Authors</h2><p></p><span class="author"><span xmlns="" class="firstname">Peter</span> <span xmlns="" class="surname">Thomas</span></span></div></div><div><p class="releaseinfo">2.1.0</p></div></div><div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><a href="#preface">Preface</a></dt><dt>1. <a href="#introduction">Introduction</a></dt><dd><dl><dt>1.1. <a href="#introduction-about">About</a></dt><dt>1.2. <a href="#introduction-releasenotes">Release Notes: Version 2.1.0</a></dt></dl></dd><dt>2. <a href="#features">Features</a></dt><dd><dl><dt>2.1. <a href="#features-easytoinstall">Easy to Install</a></dt><dt>2.2. <a href="#features-customfields">Custom Fields</a></dt><dt>2.3. <a href="#features-customworkflow">Custom Workflow</a></dt><dt>2.4. <a href="#features-history">Detailed History View</a></dt><dt>2.5. <a href="#features-attachments">Attachments Support</a></dt><dt>2.6. <a href="#features-customroles">Custom Roles</a></dt><dt>2.7. <a href="#features-search">Search Custom Fields</a></dt><dt>2.8. <a href="#features-dashboard">Dashboard</a></dt><dt>2.9. <a href="#features-searchall">Search Across All Projects</a></dt><dt>2.10. <a href="#features-textsearch">Full Text Search</a></dt><dt>2.11. <a href="#features-excel">Export to Excel</a></dt><dt>2.12. <a href="#features-navigation">Simple Navigation</a></dt><dt>2.13. <a href="#features-related">Cross Referencing of Items</a></dt><dt>2.14. <a href="#features-guest">Read-Only Access</a></dt><dt>2.15. <a href="#features-email">E-mail Integration</a></dt><dt>2.16. <a href="#features-i18n">Multi-Language Support</a></dt><dt>2.17. <a href="#features-ldap">LDAP / CAS authentication support</a></dt></dl></dd><dt>3. <a href="#installation">Installation</a></dt><dd><dl><dt>3.1. <a href="#installation-prerequisites">Prerequisites</a></dt><dt>3.2. <a href="#installation-quick">Quick Installation</a></dt><dd><dl><dt>3.2.1. <a href="#installation-quick-linux">Notes for Linux / Unix users</a></dt><dt>3.2.2. <a href="#installation-quick-othernotes">Security and Backup</a></dt></dl></dd><dt>3.3. <a href="#installation-settings">Settings</a></dt><dt>3.4. <a href="#installation-war">Using only the WAR file</a></dt><dt>3.5. <a href="#installation-custom">Custom Installation</a></dt><dd><dl><dt>3.5.1. <a href="#installation-custom-initprops">Edit the "jtrac-init.properties" file</a></dt><dt>3.5.2. <a href="#installation-custom-servletparams">Set a Servlet context parameter</a></dt><dt>3.5.3. <a href="#installation-custom-systemparams">Set a System / JVM parameter</a></dt></dl></dd><dt>3.6. <a href="#installation-database">Using a different database such as MySQL</a></dt><dt>3.7. <a href="#installation-jndi-datasource">Using a JNDI Datasource</a></dt><dt>3.8. <a href="#installation-ldap">Configuring LDAP Authentication</a></dt><dt>3.9. <a href="#installation-cas">Integrating with CAS for Single Sign On</a></dt><dd><dl><dt>3.9.1. <a href="#installation-cas-webxml">Changes to web.xml</a></dt><dt>3.9.2. <a href="#installation-cas-appcontext">Changes to applicationContext-acegi-cas.xml</a></dt></dl></dd><dt>3.10. <a href="#installation-windowsservice">Installing as a Windows Service</a></dt><dt>3.11. <a href="#installation-backup">What to Backup</a></dt><dt>3.12. <a href="#installation-upgrading">Upgrading</a></dt></dl></dd><dt>4. <a href="#faq">FAQ</a></dt><dd><dl><dt>4.1. <a href="#faq-why">Do we really need another issue tracker?</a></dt><dt>4.2. <a href="#faq-architecture">What is the JTrac architecture like?</a></dt><dt>4.3. <a href="#faq-version">Why start with version 2.0?  What about 1.0?</a></dt><dt>4.4. <a href="#faq-password">What is the username and password when you log in for the first time?</a></dt><dt>4.5. <a href="#faq-contribute">How can I help?</a></dt><dt>4.6. <a href="#faq-hsqldb">We are heavy users of JTrac but it is running on the embedded HSQLDB database.  Can it cope?</a></dt><dt>4.7. <a href="#faq-morecustomfields">Why does JTrac have a limit on custom fields?  I really need more!</a></dt><dt>4.8. <a href="#faq-tracker">How do I report bugs or feature requests?</a></dt><dt>4.9. <a href="#faq-dogfood">Why is JTrac not being used as the bug-tracker for this project?  You should be eating your own dog food right?</a></dt><dt>4.10. <a href="#faq-references">Do you have a list of users or references?</a></dt></dl></dd><dt>5. <a href="#roadmap">Roadmap</a></dt><dd><dl><dt>5.1. <a href="#roadmap-hide">Field-Level "Hide" Permissions</a></dt><dt>5.2. <a href="#roadmap-nested">Nested Items</a></dt><dt>5.3. <a href="#roadmap-validation">Custom Validation</a></dt><dt>5.4. <a href="#roadmap-scheduler">Custom Scheduled Jobs</a></dt><dt>5.5. <a href="#roadmap-email">Submit By Email</a></dt><dt>5.6. <a href="#roadmap-screenshot">Screenshot Capture</a></dt><dt>5.7. <a href="#roadmap-savedsearches">Saved Searches</a></dt><dt>5.8. <a href="#roadmap-wiki">Wiki Engine</a></dt><dt>5.9. <a href="#roadmap-svn">Subversion Integration</a></dt><dt>5.10. <a href="#roadmap-tags">Tags</a></dt><dt>5.11. <a href="#roadmap-feeds">RSS Feeds</a></dt><dt>5.12. <a href="#roadmap-import">Import from other tools</a></dt><dt>5.13. <a href="#roadmap-sso">Single Sign On</a></dt><dt>5.14. <a href="#roadmap-xmlapi">XML API</a></dt><dt>5.15. <a href="#roadmap-mylar">Eclipse Mylyn integration</a></dt><dt>5.16. <a href="#roadmap-timetracking">Time Tracking</a></dt><dt>5.17. <a href="#roadmap-reporting">Custom Reports</a></dt></dl></dd><dt>6. <a href="#interim-builds">Interim Builds</a></dt><dd><dl><dt>6.1. <a href="#interim-overview">Overview</a></dt><dt>6.2. <a href="#interim-notes">Notes on using Interim Builds</a></dt></dl></dd><dt>7. <a href="#upgrading">Upgrading and Database Migration</a></dt><dd><dl><dt>7.1. <a href="#upgrading-war">Deleting webapp temporary files</a></dt><dt>7.2. <a href="#upgrading-database">Upgrading the Database</a></dt><dt>7.3. <a href="#upgrading-jetty">Upgrading Jetty</a></dt><dt>7.4. <a href="#upgrading-migrating">Database Migration</a></dt></dl></dd><dt>8. <a href="#dev-guide">Developer Guide</a></dt><dd><dl><dt>8.1. <a href="#dev-prerequisites">Pre Requisites</a></dt><dt>8.2. <a href="#dev-check-prerequisites">Check Prerequisites</a></dt><dt>8.3. <a href="#dev-download">Download / Extract Source</a></dt><dt>8.4. <a href="#dev-build-properties">Customize Ant Build Properties File</a></dt><dt>8.5. <a href="#dev-antprops-generate">Generate Dependencies Properties File</a></dt><dt>8.6. <a href="#dev-eclipse">Import project into your IDE</a></dt><dt>8.7. <a href="#dev-building">Building And Running JTrac</a></dt><dt>8.8. <a href="#dev-translating">Adding a language translation for JTrac</a></dt></dl></dd></dl></div><div class="preface" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="preface"></a>Preface</h2></div></div><div></div></div><p>
            This document is a reference guide for <a href="http://jtrac.info" target="_top">JTrac</a>
            - the generic issue tracking web-application.  This document is not only a user-guide
            but can also serve as a reference for developers interested in contributing to JTrac.
        </p><p>
            This documentation has been generated using the DocBook configuration 
            used by the <a href="http://www.springframework.org" target="_top">Spring</a> development team. 
            This particular simplified DocBook helper package was originally developed by Chris Bauer of the
            <a href="http://www.hibernate.org" target="_top">Hibernate</a> project.  Thanks go out to all those who
            perfected this very handy approach.
        </p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="introduction"></a>Chapter&nbsp;1.&nbsp;Introduction</h2></div></div><div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="introduction-about"></a>1.1.&nbsp;About</h2></div></div><div></div></div><p>
                JTrac is a generic issue-tracking web-application that can be easily customized by adding 
                custom fields and drop-downs. Features include customizable workflow, field level permissions, 
                e-mail integration, file attachments and a detailed history view.
            </p><p>
                JTrac was created after the author felt that he could write a much better alternative to a 
                commercial defect tracking tool that he was having to use. Development started in 2004. 
                JTrac is ideal for issue tracking or bug-tracking, but it has been designed to be generic
                and you can define custom fields to track almost anything you need.
            </p><p>
                JTrac development used to be hosted at <a href="https://jtrac.dev.java.net" target="_top">https://jtrac.dev.java.net</a> but moved to SourceForge 
                in early 2006. The older working version was based on Spring MVC, Spring JDBC and MS Access and is not being 
                maintained any more.  JTrac 2.0 uses Java 5.0 features and was completely re-written to use 
                <a href="http://www.hibernate.org/" target="_top">Hibernate</a> for persistence and the 
                <a href="http://www.acegisecurity.org/" target="_top">Acegi Security</a> framework for Spring.  The presentation 
                layer for version 2.0 was mainly using 
                <a href="http://opensource.atlassian.com/confluence/spring/display/WEBFLOW/Home" target="_top">Spring WebFlow</a>
                but as of early 2007 (version 2.1.0 onwards) JTrac 
                <a href="http://ptrthomas.wordpress.com/2007/03/02/wicket-impressions-moving-from-spring-mvc-webflow/" target="_top">switched to </a>
                using the <a href="http://wicket.apache.org/" target="_top">Apache Wicket</a> framework.
            </p><p>
                JTrac is extremely easy to install and the only pre-requisite is a Java 5 (or higher) Runtime Environment.
                You can be up and running in seconds because JTrac comes bundled with a small-footprint web-application 
                server called <a href="http://jetty.mortbay.org/" target="_top">Jetty</a> and an embedded database called 
                <a href="http://www.hsqldb.org/" target="_top">HSQLDB</a>.  Please refer to the 
                <a href="#installation" title="Chapter&nbsp;3.&nbsp;Installation">installation</a> section of this documentation for details.  
                You can also choose to drop the WAR file into an application server of your choice and start using JTrac right away.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="introduction-releasenotes"></a>1.2.&nbsp;Release Notes: Version 2.1.0</h2></div></div><div></div></div><p>
                There are no database changes between version 2.0 and 2.1.0.  Instructions on how to upgrade are 
                available in the "<a href="#upgrading" title="Chapter&nbsp;7.&nbsp;Upgrading and Database Migration">upgrading</a>" section of this document.  The bundled
                Jetty web-app server has been upgraded from version 6.0.2 to 6.1.1 but it is not mandatory that you
                upgrade.
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="features"></a>Chapter&nbsp;2.&nbsp;Features</h2></div></div><div></div></div><p>                    
            JTrac has all the features that you would expect from a standard issue-tracking application such as 
            support for file-attachments and e-mail integration.  JTrac offers powerful customization options,
            especially in the areas of workflow and field-level permissions and compares well to even
            commercial tools.
        </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-easytoinstall"></a>2.1.&nbsp;Easy to Install</h2></div></div><div></div></div><p>
                One of the useful features of JTrac is that it is distributed with an embedded web-application server 
                (<a href="http://jetty.mortbay.org/" target="_top">Jetty</a>) that has a very small footprint.  
                If you have Java 5 installed you can be up and running after downloading and extracting JTrac - by 
                simply using the provided start and stop scripts.  JTrac scans its environment on startup and if a 
                configured database is not detected, <a href="http://www.hsqldb.org/" target="_top">HSQLDB</a> is used by 
                default.
            </p><p>
                If you already have a web-application server that you wish to use (such as 
                <a href="http://tomcat.apache.org/" target="_top">Tomcat</a>), you can just drop in the WAR file 
                provided and sign on into the application straight-away.
            </p><p>
                You can refer the <a href="#installation" title="Chapter&nbsp;3.&nbsp;Installation">installation</a> section of this document for 
                more details.  JTrac uses <a href="http://www.hibernate.org" target="_top">Hibernate</a> and so it can 
                use any database <a href="http://www.hibernate.org/80.html" target="_top">supported by Hibernate.</a>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-customfields"></a>2.2.&nbsp;Custom Fields</h2></div></div><div></div></div><p>                    
                JTrac can be used to effectively track various kinds of things such as Bugs, Action Items and Tasks.
                You can easily add the following types of custom fields to a tracker Project (Space):
                </p><div class="itemizedlist"><ul type="disc"><li><p>Drop Down List</p></li><li><p>Free Text Field</p></li><li><p>Date Picker</p></li><li><p>(Decimal) Number</p></li></ul></div><p>                   
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/custom-fields.png" align="middle"><div class="caption"><p>Setting up custom fields for a project</p></div></div><p>
            </p><p>
                There is a limit to how many custom fields of each type that you can configure for a Space.
                These limits have been set after careful consideration and would very rarely fail to suffice. 
                They are as follows: Drop Down - 10, Free Text - 5, Numeric - 3, Date/Time - 3.                
            </p><p>
                The screenshot below shows how creating a new item would look like for the typical
                project (space) where 'Severity', 'Module', 'Type' and 'Priority' have been defined
                as custom fields.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/item-create.png" align="middle"><div class="caption"><p>Creating a new item</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-customworkflow"></a>2.3.&nbsp;Custom Workflow</h2></div></div><div></div></div><p>
                Each tracker project that you create can have a different workflow.  JTrac allows for 
                complete customization of the tracker-item lifecycle, right down to the names of
                each intermediate state.  It is possible to create very sophisticated workflows and a visual 
                "map" of the workflow being edited is displayed below the state-transition toggle-buttons 
                to make it easier to manage.
            </p><p>
                The default workflow shown below is ideal if you simply want to track issues with just
                two states - Open and Closed.  However, with just a few mouse clicks, you can turn this into 
                a complex workflow involving multiple states.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/custom-workflow-before.png" align="middle"><div class="caption"><p>Default workflow - before customization</p></div></div><p>
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/custom-workflow-after.png" align="middle"><div class="caption"><p>Example of a workflow - after customization</p></div></div><p>
            </p><p>
                You can even configure whether or not changing of values is permitted given the current state 
                within the workflow - and that too at a field-level.  This flexibility allows for some 
                interesting possibilities.  For example, assume that you want to maintain a "percentage complete" 
                field that can be updated at any time during the life-cycle of an item. The screenshot below 
                demonstrates how you can set up a drop down field called "% Complete":
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/percent-complete-field.png" align="middle"><div class="caption"><p>Setting up of a drop down custom field called "% Complete"</p></div></div><p>
            </p><p>
                Then when customizing the roles and field-level permissions, all you need to do is specify that
                the "% Complete" field is editable even when the status is "Open".
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/percent-complete-roles.png" align="middle"><div class="caption"><p>Making a custom field editable when updating an item (after new item has been created)</p></div></div><p>
            </p><p>
                This results in the "% Complete" field being available for updating whenever anyone views an item
                with a status of "Open".  Notice also how the "% Complete" field is added as a column to the "History"
                section so that the complete history of changes to this custom field can be viewed.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/percent-complete-history.png" align="middle"><div class="caption"><p>Example of a custom field that can be updated even when status is "Open"</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-history"></a>2.4.&nbsp;Detailed History View</h2></div></div><div></div></div><p>
                JTrac provides a very detailed history view that completely captures all comments or status
                changes for an item.  The history can be seen when viewing an item as shown above.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-attachments"></a>2.5.&nbsp;Attachments Support</h2></div></div><div></div></div><p>
                You can upload file attachments at the time of creating of an item or as many times
                as required after an item has been created.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-customroles"></a>2.6.&nbsp;Custom Roles</h2></div></div><div></div></div><p>
                JTrac customization does not stop at workflow - you can also define different roles for each tracker
                project that you set up.  This allows for power and flexibility.  For example you could enforce that
                a "DEVELOPER" role can only mark "Assigned" items as "Fixed" and that only a "TESTER" role has the
                power to mark a "Fixed" item as "Closed".  You can even disallow selected roles from being able to 
                create new items.  JTrac gives you complete control over the workflow and you can easily tweak it 
                to fit your existing process rather than the other way around.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/custom-roles.png" align="middle"><div class="caption"><p>Example of workflow where each role has clearly defined responsibilities.</p></div></div><p>
            </p><p>              
                In the example above, the roles highlighted in red on the visual "map" of the workflow being edited 
                mean that at these points in the workflow - a user with the given role can assign only to other roles.  
                So in this case, the TESTER can assign a New item only to a DEVELOPER role and not another TESTER.
                And when an item is in the "Assigned" state, a DEVELOPER can only assign to a TESTER when changing the
                status to "Fixed" or "Rejected".
            </p><p>              
                Field-level permissions can be mapped to roles which allows for even more flexibility. 
                For example, you can set a project up so that only a "MANAGER" can change the "Severity" level 
                after a bug is submitted.  JTrac makes it possible for you to define very complex workflows, complete 
                with both Status and Role dependent field-level permissions, and you can do all this within a 
                single admin screen.                  
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-search"></a>2.7.&nbsp;Search Custom Fields</h2></div></div><div></div></div><p>
                The intuitive search screen (shown below) allows for easy execution of common queries such as
                find all items "logged by" or "assigned to" a user (or users).  JTrac allows for filtering even
                on custom fields.
            </p><p>
                You can navigate back to the search setup screen from the search results screen and have the
                search parameters still active.  This is useful when trying to tweak complex queries by 
                trial and error.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/search.png" align="middle"><div class="caption"><p>The search screen - which allows filtering on custom fields</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-dashboard"></a>2.8.&nbsp;Dashboard</h2></div></div><div></div></div><p>
                The default view when you log into JTrac is a very handy dashboard view that provides the most 
                frequently used statistics at a glance. You can click on any of the numbers to immediately bring up 
                the search results view listing the items matched. For example, clicking on the count of items 
                "Logged By Me" would immediately display the list of items initiated by the currently logged in user.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/dashboard.png" align="middle"><div class="caption"><p>Statistics at a glance and search results available with just one click</p></div></div><p>
            </p><p>
                For each Space, you can also drill-down to a finer level of detail  by clicking on the right-arrow 
                'expand' icon.  This expands the dashboard rows so that you can see a break-up of item counts, not only by
                whether 'logged by me' / 'assigned to me' - but against the custom workflow states defined for 
                the Space as well.  Again, it is possible to directly navigate to the items by clicking on the dashboard numbers.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/dashboard-expanded.png" align="middle"><div class="caption"><p>Expanded statistics for a Space showing counts by workflow status</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-searchall"></a>2.9.&nbsp;Search Across All Projects</h2></div></div><div></div></div><p>
                In addition to be able to search within a single space (project) JTrac allows for searching across
                all (or a sub set of) projects that a user is mapped to.  For example, in the screenshot of the
                dashboard above, there are two projects.  The "SEARCH" link at the top of the page (as well as the "search"
                link on the "totals" row) would bring up the search wizard that can search across all (or a subset of)
                the spaces assigned to the currently logged in user.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-textsearch"></a>2.10.&nbsp;Full Text Search</h2></div></div><div></div></div><p>
                The summary and even the detailed descriptions of items are indexed and can be searched.
                Note that if you are upgrading or migrating databases, you may need to "re-index" which
                is an option available to admin users.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/full-text-search.png" align="middle"><div class="caption"><p>Lucene powered full text search with wildcard support</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-excel"></a>2.11.&nbsp;Export to Excel</h2></div></div><div></div></div><p>
                JTrac is able to export the results of any search (or all items in a Space) as an Excel Sheet.
                The link for this appears at the top right of the search results screen.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/excel-link.png" align="middle"><div class="caption"><p>Download search results as an excel sheet</p></div></div><p>
            </p><p>
                One the data is in a spreadsheet, it is very easy to analyze data and do things
                like creating pivot-tables and charts.  Many users use the 'export to Excel' feature 
                to fulfil custom reporting requirements.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-navigation"></a>2.12.&nbsp;Simple Navigation</h2></div></div><div></div></div><p>
                Most users will use only five screens in JTrac: Dashboard, Create, View, Search and Results.
                Navigation has been designed with usability and simplicity in mind.  A screenshot of the 
                search results screen is shown below.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/search-results.png" align="middle"><div class="caption"><p>The search results screen</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-related"></a>2.13.&nbsp;Cross Referencing of Items</h2></div></div><div></div></div><p>
                You can establish bi-directional links between items.  For example you can mark an item as
                being a "duplicate of" another item.  You can easily navigate to related items (and back) when 
                viewing any particular item.
            </p><p>
                The option to add related items is available when viewing an item after it is created.
                The navigation is designed so that you have the option to execute a search before selecting an 
                item to cross-reference.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-guest"></a>2.14.&nbsp;Read-Only Access</h2></div></div><div></div></div><p>
                When setting up a Space you can define whether this space can be viewed by users without 
                having to log-in.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/guest-allowed.png" align="middle"><div class="caption"><p>Specify if read-only anonymous access is allowed per-space</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-email"></a>2.15.&nbsp;E-mail Integration</h2></div></div><div></div></div><p>
                All status changes for an item will trigger e-mail notifications by default.
                You can choose to add multiple users into a "notify list" at the time of raising a new item
                or updating the history for an item.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/notify-list.png" align="middle"><div class="caption"><p>Add multiple users to a "notify list" while creating or updating an item</p></div></div><p>
            </p><p>
                The e-mail content is very nicely formatted HTML and is laid out in the same way as how the screen looks
                within JTrac when viewing an item.  Users do not need to get used to a different or possibly
                less pleasing format such as plain-text.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/email-notification.png" align="middle"><div class="caption"><p>Example of an e-mail sent by JTrac</p></div></div><p>
            </p><p>
                Admin users can configure the SMTP / e-mail server that JTrac should use in the 
                "<a href="#installation-settings" title="3.3.&nbsp;Settings">Manage Settings</a>" page.
                This page can be accessed from the "OPTIONS" menu.  JTrac also can handle an e-mail server that requires
                authentication or even a secure connection over HTTPS.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-i18n"></a>2.16.&nbsp;Multi-Language Support</h2></div></div><div></div></div><p>
                JTrac has complete internationalization support and you can change the user interface language instantly 
                by editing your user-profile.  Adding a translation is very easy and does not require any
                Java  development expertise.  See <a href="#dev-translating" title="8.8.&nbsp;Adding a language translation for JTrac">this section</a> of the developer
                guide for more details and please consider contributing translations to the JTrac project.
            </p><p>
                JTrac has already been translated into the following languages:
            </p><p>
                </p><div class="itemizedlist"><ul type="disc"><li><p>
                            German - de
                        </p></li><li><p>
                            Greek - el
                        </p></li><li><p>
                            Spanish - es
                        </p></li><li><p>
                            Spanish (Argentina) - es_AR
                        </p></li><li><p>
                            Spanish (Mexico) - es_MX
                        </p></li><li><p>
                            French - fr
                        </p></li><li><p>
                            Italian - it
                        </p></li><li><p>
                            Japanese - ja
                        </p></li><li><p>
                            Dutch - nl
                        </p></li><li><p>
                            Polish - pl
                        </p></li><li><p>
                            Portugese (Brazil) - pt_BR
                        </p></li><li><p>
                            Russian - ru
                        </p></li><li><p>
                            Chinese (China) - zh_CN
                        </p></li><li><p>
                            Chinese (Taiwan) - zh_TW
                        </p></li></ul></div><p> 
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="features-ldap"></a>2.17.&nbsp;LDAP / CAS authentication support</h2></div></div><div></div></div><p>
                JTrac has built-in support for authenticating user credentials against an LDAP or Active Directory server.
                Please refer the <a href="#installation-ldap" title="3.8.&nbsp;Configuring LDAP Authentication">LDAP section</a> of the installation guide for more details.
            </p><p>
                JTrac also has support for integrating with a
                <a href="http://www.ja-sig.org/products/cas/" target="_top">Central Authentication Service</a> (CAS) installation.
                The install guide has more details on 
                <a href="#installation-cas" title="3.9.&nbsp;Integrating with CAS for Single Sign On">how to configure single sign-on using CAS</a>.
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="installation"></a>Chapter&nbsp;3.&nbsp;Installation</h2></div></div><div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-prerequisites"></a>3.1.&nbsp;Prerequisites</h2></div></div><div></div></div><p>    
                All you require in order to start using JTrac is Java 5 (or higher).  Only a JRE (Java Runtime Environment)
                is required and not the full-blown JDK (Java Development Kit).
            </p><p>    
                There is a good chance that Java is already installed on your system and you can verify whether it is ready 
                to run JTrac by opening a command prompt and typing the following command:
            </p><p>
                </p><pre class="programlisting">

java -version
                </pre><p>
            </p><p>
                If the system responds with a java version that is 1.5 or greater, you are ready to download and run JTrac.
            </p><p>
                You can download Java from here: <a href="http://www.java.com/download" target="_top">http://www.java.com/download</a>.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-quick"></a>3.2.&nbsp;Quick Installation</h2></div></div><div></div></div><p>                    
                Once you have Java you can start using JTrac right away because you do not need to configure a web-application 
                server or a database.  JTrac embeds both of these (<a href="http://jetty.mortbay.org/" target="_top">Jetty</a> and 
                <a href="http://www.hsqldb.org/" target="_top">HSQLDB</a>) to make it easy for you to evaluate JTrac.
            </p><p>            
                </p><div class="itemizedlist"><ul type="disc"><li><p>
                            First, download the latest release from  
                            <a href="http://sourceforge.net/project/showfiles.php?group_id=162983&amp;package_id=184104" target="_top">
                            the JTrac downloads area</a>                           
                        </p></li><li><p>Extract the zip file into a directory of your choice</p></li><li><p>
                            Double-click or run "start.bat" to start JTrac
                        </p></li><li><p>Point your web-browser to <a href="http://localhost/jtrac" target="_top">http://localhost/jtrac</a></p></li><li><p>Sign on with the user name "admin" and password "admin"</p></li><li><p>Start using JTrac</p></li></ul></div><p>                 
            </p><p>
                You can use the "stop.bat" script to stop the application.  The "start.bat" file configures the 
                Jetty server to use port 80 which you can easily change by editing "start.bat".  You may need to do this 
                if for example JTrac does not start because a web-server (like Apache or IIS) is already running on port 80.
            </p><p>
                Remote users should be able to access JTrac over the network by using the machine name instead of "localhost" 
                in the URL shown above.  If there is a problem, it could be due to a firewall running on the machine where JTrac 
                is installed - and you may have to reconfigure things so that for example "java.exe" is not blocked.
            </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-quick-linux"></a>3.2.1.&nbsp;Notes for Linux / Unix users</h3></div></div><div></div></div><p>
                    If you are not on Windows, you may want to rename the start and stop *.bat files to e.g. *.sh for Linux 
                    (*.bat is reported to work for Ubuntu).  The commands within the batch files will work unchanged as long as 
                    Java has been installed correctly i.e. "java" is in the PATH and it is the expected 1.5 or greater version.  
                    You may need to do things like apply executable permissions to the batch files on Linux, e.g. "chmod +x *.bat".  
                    And also - unless you have "root" permissions, you may face problems starting services on port 80 etc.
                </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-quick-othernotes"></a>3.2.2.&nbsp;Security and Backup</h3></div></div><div></div></div><p>
                    For security reasons, it is best that you change the default "admin" password after installing 
                    JTrac, especially if you are going to make the application accessible on a public-facing web-site
                    over the internet.
                </p><p>
                    JTrac by default will use a "data" directory that will be automatically created
                    within the root folder "jtrac".  The data directory will contain the files needed by HSQLDB
                    (the embedded database) as well as hold uploaded attachments.  When using JTrac in production,
                    this is the location that you should consider <a href="#installation-backup" title="3.11.&nbsp;What to Backup">backing-up</a> 
                    on a regular basis.
                </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-settings"></a>3.3.&nbsp;Settings</h2></div></div><div></div></div><p>
                For e-mail notifications to work, an SMTP server needs to be configured in JTrac.
                Users who have the ADMIN role will be able to access the JTrac configuration settings
                screen from a link on the "OPTIONS" screen.  Note that you will need to provide values
                for the "mail.from" and the "jtrac.url.base" properties also, for things like the hyperlinks
                within e-mail to work properly.  JTrac also supports mail servers that require authentication
                or secure connections using SSL.  You can refer the descriptions of the available configuration 
                property settings available from the settings screen as shown below.             
            </p><p>
                If you have trouble getting e-mail to work, one of the things to watch out for is whether
                there is any firewall blocking the communication between JTrac and the mail server - for example
                you may have a firewall runnning on the machine where JTrac is installed.  It is very common
                for mail servers to be configured to prevent mail-relay requests from unknown applications or
                IP addresses so you may need to check with your mail server administrator.
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/settings.png" align="middle"><div class="caption"><p>The JTrac settings screen where you can configure an e-mail / SMTP server</p></div></div><p>
            </p><p>
                JTrac also can lookup and use a JNDI mail session (javax.mail.Session) if required.  If you 
                provide a JNDI name, JTrac will ignore the SMTP server details provided.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-war"></a>3.4.&nbsp;Using only the WAR file</h2></div></div><div></div></div><p>
                JTrac is designed so that you can be up and running by just deploying the WAR file into your 
                existing web-application server.  Note that you need a servlet 2.4 compliant container.  
                For example, if you have <a href="http://tomcat.apache.org/" target="_top">Apache Tomcat</a> 5.5.X, 
                you can either copy the WAR file into the [tomcat.home]/webapps folder or choose to upload 
                the WAR file through the Tomcat console.
            </p><p>                    
                JTrac saves database information and uploaded attachments into a directory on the server.
                This directory is logically called the "jtrac.home".  When you do a "quick-install" of JTrac
                by just deploying the WAR file, JTrac creates a ".jtrac" folder in the user home folder and
                uses that location as the home directory.  This is great for quickly evaluating JTrac but
                when you actually use JTrac in production you should configure the JTrac home directory as 
                a location that can easily be backed-up for example.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-custom"></a>3.5.&nbsp;Custom Installation</h2></div></div><div></div></div><p>                    
                To customize the location of "jtrac.home" you have the following three options.  On startup, JTrac tries to
                detect the value of "jtrac.home", and checks the following configuration options in the order listed below.
            </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-custom-initprops"></a>3.5.1.&nbsp;Edit the "jtrac-init.properties" file</h3></div></div><div></div></div><p>
                    If you explode (unzip) the WAR file, you can edit the /WEB-INF/classes/jtrac-init.properties file
                    and customize the location of "jtrac.home".  Note that you can choose to deploy JTrac as an exploded-war 
                    and it is not mandatory that you re-package (zip) the WAR file after editing "jtrac-init.properties".
                </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-custom-servletparams"></a>3.5.2.&nbsp;Set a Servlet context parameter</h3></div></div><div></div></div><p>
                    For example you can specify the jtrac.home using the Tomcat administration console or as 
                    follows using a &lt;Context&gt; parameter.                     
                </p><p>
                    </p><pre class="programlisting">
                                                
&lt;Context docBase="${catalina.home}/jtrac/jtrac.war"&gt;
    &lt;Parameter name="jtrac.home" value="C:/data/jtrac_home"/&gt;
&lt;/Context&gt;              
                    </pre><p>
                </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-custom-systemparams"></a>3.5.3.&nbsp;Set a System / JVM parameter</h3></div></div><div></div></div><p>
                    If you can easily set a system property called "jtrac.home" within the environment of your 
                    application server then you don't need to edit the WAR file.  Please look at the contents of "start.bat" 
                    to see an example of how the appropriate JVM (Java Virtual Machine) parameters can be set when deploying JTrac.  
                    For example, if you are using <a href="http://tomcat.apache.org/" target="_top">Apache Tomcat</a> 5.5.X, you can 
                    set an environment variable called JAVA_OPTS before invoking the startup script (startup.bat / startup.sh).
                    Here is an example for Tomcat 5.5.X on Windows:                
                </p><p>
                    </p><pre class="programlisting">

set JAVA_OPTS=-Djtrac.home=C:/data/jtrac_home -Dfile.encoding=UTF-8
                    </pre><p>
                </p><p>
                    If "jtrac.home" has not been configured in any of the above ways, JTrac will create a folder called
                    ".jtrac" in the user home directory and proceed to use that as "jtrac.home".
                </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-database"></a>3.6.&nbsp;Using a different database such as MySQL</h2></div></div><div></div></div><p>                    
                You can configure the database that JTrac uses by editing the "jtrac.properties" file that JTrac expects
                within the "jtrac.home" folder.  Note that if JTrac does not find a "jtrac.properties" file in the
                expected location, JTrac creates a fresh one which is pre-configured for HSQLDB.  The contents of this file
                are as follows:                
            </p><p>
                </p><pre class="programlisting">

database.driver=org.hsqldb.jdbcDriver
database.url=jdbc:hsqldb:file:${jtrac.home}/db/jtrac
database.username=sa
database.password=
hibernate.dialect=org.hibernate.dialect.HSQLDialect
hibernate.show_sql=false
                </pre><p>
            </p><p>
                You can change the database values and the hibernate dialect to match the settings of a 
                database that you have already.  When JTrac starts, it will connect to the database and
                create the schema if one does not already exist.
            </p><p>
                If you edit the "jtrac.properties" file, ensure that there are no trailing spaces in the entries shown above
                (especially when cutting and pasting from somewhere).  This can save you a lot of frustration!
            </p><p>
                Don't forget to make the database driver available for the web-application.  If you are using the bundled
                Jetty web-app server, this is as simple as copying the jar file into the "lib" folder along with the
                jetty jar files.  If you are using Tomcat, you can either place the jar file under "shared/lib" or within
                the "/WEB-INF/lib" folder of the "jtrac" (exploded) WAR itself.
            </p><p>
                Given below is a sample jtrac.properties file for MySQL.  Using the default "root" user is obviously
                not advisable from a security point of view and you should try and have a separate user for the database
                used by JTrac.
                </p><pre class="programlisting">

database.driver=com.mysql.jdbc.Driver
database.url=jdbc:mysql://localhost/jtrac
database.username=root
database.password=
hibernate.dialect=org.hibernate.dialect.MySQLDialect
hibernate.show_sql=false
                </pre><p>
            </p><p>
                For MySQL, do not use the "autoReconnect=true" parameter in the MySQL URL, this is 
                <a href="http://dev.mysql.com/doc/connector/j/en/connector-j-usagenotes-j2ee.html#connector-j-usagenotes-tomcat" target="_top">not recommended</a>
                by the MySQL team.  The <a href="http://jakarta.apache.org/commons/dbcp/" target="_top">Apache DBCP</a> 
                connection pool used internally by JTrac is configured to refresh stale database connections.                
            </p><p>
                The default query to test idle database connections is "SELECT 1".  This has been reported
                to not work for databases such as Derby and Progress because they consider this invalid SQL.  You can
                customize the validation query by adding a "database.validationQuery" property in "jtrac.properties.
                If you set the validation query to an empty string, this effectively disables the periodic testing of
                idle database connections that Apache DBCP performs.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-jndi-datasource"></a>3.7.&nbsp;Using a JNDI Datasource</h2></div></div><div></div></div><p>
                You can provide a JNDI datasource name as an additional property called "database.datasource.jndiname" 
                in the "jtrac.properties" file.  JTrac will ignore the other database properties in this case.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-ldap"></a>3.8.&nbsp;Configuring LDAP Authentication</h2></div></div><div></div></div><p>
                A couple of extra entries in "jtrac.properties" are required in order to configure LDAP authentication.
                JTrac will attempt LDAP authentication if an "ldap.url" config entry is present.
            </p><p>
                </p><pre class="programlisting">
                    
ldap.url=ldap://myldaphost
ldap.searchBase=DC=foo,DC=bar,DC=org
                </pre><p>
            </p><p>
                The following additional entry is recommended if you are using Active Directory.  This switches on an 
                LDAP optimization that is specific to Active Directory.
            </p><p>
                </p><pre class="programlisting">
                    
ldap.activeDirectoryDomain=MYDOMAIN
                </pre><p>
            </p><p>
                The benefit of LDAP authentication is that users can sign-on to JTrac by using their existing LDAP credentials
                (username and password).  At the moment, LDAP support is limited to authentication and not authorization.
                Users still have to be created by an administrator and mapped to the relevant Spaces using the JTrac
                administration screens before they can start using JTrac.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-cas"></a>3.9.&nbsp;Integrating with CAS for Single Sign On</h2></div></div><div></div></div><p>
                In order to integrate JTrac with <a href="http://www.ja-sig.org/products/cas/" target="_top">CAS</a>
                you have to edit a couple of XML files within the "WEB-INF" folder ('web.xml' and 'applicationContext-acegi-cas.xml').
                The changes that you need to make are described below.
            </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-cas-webxml"></a>3.9.1.&nbsp;Changes to web.xml</h3></div></div><div></div></div><p>
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                                Change "applicationContext-acegi.xml" to "applicationContext-acegi-cas.xml".
                                This appears towards the start of the file in the 'contextConfigLocation' context-param.
                            </p></li><li><p>
                                Uncomment the filter and filter-mapping XML for the 'acegi' FilterToBeanProxy
                            </p></li><li><p>
                                Uncomment the servlet and servlet-mapping XML for the 'casProxy' ProxyTicketReceptor.
                                You should also uncomment the associated context-param called 'edu.yale.its.tp.cas.proxyUrl'
                                and customize the value for your environment.
                            </p></li></ul></div><p> 
                </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="installation-cas-appcontext"></a>3.9.2.&nbsp;Changes to applicationContext-acegi-cas.xml</h3></div></div><div></div></div><p>
                    In the XML corresponding to bean id "casProxyTicketValidator" - edit the following
                    property values to suit your environment:
                </p><p>
                    </p><div class="itemizedlist"><ul type="disc"><li><p>
                                casValidate
                            </p></li><li><p>
                                proxyCallbackUrl
                            </p></li><li><p>
                                trustStore
                            </p></li><li><p>
                                loginUrl
                            </p></li><li><p>
                                logoutUrl
                            </p></li></ul></div><p> 
                </p><p>
                    For more details and troubleshooting, you can refer to the 
                    <a href="http://www.acegisecurity.org/guide/springsecurity.html#cas-client" target="_top">Acegi documentation on CAS integration</a>.
                </p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-windowsservice"></a>3.10.&nbsp;Installing as a Windows Service</h2></div></div><div></div></div><p>
                Note that this approach can reportedly apply to other operating systems.  If you have been able to do
                this successfully on Linux or Mac environments, please consider contributing some documentation on this.
            </p><p>                    
                If you choose to use the bundled <a href="http://jetty.mortbay.org/" target="_top">Jetty</a> web-application 
                server, you can easily install JTrac as a Windows service so that it can start automatically when 
                the host machine is switched on.  One of the big advantages of this is that the console window will be invisible 
                and will run in the background.  You can therefore avoid the possibility of the Jetty server getting
                terminated because somebody decided to close "that pesky DOS Window that gets in the way".  Having JTrac
                start automatically without requiring someone to log-in is ideal when you have a server that may be
                restarted occasionally due to power outages or maintenance.
            </p><p>
                JTrac can be configured as a Windows service by using the 
                <a href="http://wrapper.tanukisoftware.org/" target="_top">Java Service Wrapper</a> project.  For convenience, 
                the JTrac distribution contains a "wrapper.conf" file in the "etc" folder that is pre-configured for 
                the Java Service Wrapper.  But first you have to download the Java Service Wrapper distribution separately.
                Note that the Java Service Wrapper project supports other operating systems such as Linux or Mac also.
            </p><p>
                Place some of the files from the Java Service Wrapper distribution into the JTrac folder structure
                as follows:
                </p><div class="itemizedlist"><ul type="disc"><li><p>From the "bin" folder, copy "wrapper.exe" to the "jtrac" root folder</p></li><li><p>From the "lib" folder, copy "wrapper.jar" and "wrapper.dll" into the "jtrac/etc" folder</p></li></ul></div><p>                 
            </p><p>
                To install JTrac as a windows service, open a command prompt, change to the "jtrac" directory
                (where you extracted the JTrac distribution) and run the following command:
            </p><p>
                </p><pre class="programlisting">

wrapper.exe -i etc/wrapper.conf
                </pre><p>
            </p><p>
                This will install a windows service called "JTrac-Jetty".  You can now go to the Windows -
                Control Panel :: Administrative Tools :: Services dialog to start the "JTrac-Jetty" service.
                Note that this service is configured to automatically start when Windows starts, by default.
                To remove the service, you can use the following command:
            </p><p>
                </p><pre class="programlisting">

wrapper.exe -r etc/wrapper.conf
                </pre><p>
            </p><p>
                The "wrapper.conf" file in the "etc" folder can be modified in case you need JTrac to run
                on a different port from the default (80).  Look for the "-Djetty.port=80" entry.
                When running as a service under the Java Service Wrapper, you can look at the
                "wrapper.log" file in the "jtrac/logs" folder for troubleshooting.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-backup"></a>3.11.&nbsp;What to Backup</h2></div></div><div></div></div><p>
                Although in practice JTrac has been found to be extremely stable in production - to safeguard against
                hardware failures, you should regularly backup the database and stored attachments.  If you are using JTrac with 
                the embedded HSQLDB database, backing up the contents of "jtrac.home" will be sufficient.
                The HSQLDB data will be stored as files in a directory called "db" under the JTrac home.
            </p><p>    
                If you are using the JTrac distribution as-is, i.e. if you are using the bundled Jetty application
                server - the JTrac home directory will be called "data" and this is created automatically under the
                folder where you un-zipped JTrac.                
            </p><p>
                Of course, if you are using a different database you will have to backup the database separately.
                The "jtrac.home" would still need to be backed up because this is where uploaded attachments are stored.                
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="installation-upgrading"></a>3.12.&nbsp;Upgrading</h2></div></div><div></div></div><p>
                Please refer to the "<a href="#upgrading" title="Chapter&nbsp;7.&nbsp;Upgrading and Database Migration">upgrading</a>" section of this document.
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="faq"></a>Chapter&nbsp;4.&nbsp;FAQ</h2></div></div><div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-why"></a>4.1.&nbsp;Do we really need another issue tracker?</h2></div></div><div></div></div><p>
                JTrac can be installed in a few minutes without having to type any commands and you don't even need 
                to set-up a database.  Configuring an e-mail server for notifications is something easily done through 
                the user interface.  One of the reasons why many people choose JTrac over other open-source
                issue trackers or bug trackers is because of <a href="#installation-quick" title="3.2.&nbsp;Quick Installation">how easy it is to set up</a>.                
            </p><p>
                JTrac is also written from the ground up to make use of the very best and latest in Java.  For example
                JTrac is developed using JDK 5.0 features, uses Apache Wicket, Spring and Hibernate and has full 
                internationalization support.
            </p><p>
                JTrac is designed to be able to handle requirements management in the future and this an area where there 
                is a clear lack of open source tools that support the needs of agile development teams.  
                JTrac also has flexible workflow capabilities and offers a rare level of control over field-level 
                permissions.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-architecture"></a>4.2.&nbsp;What is the JTrac architecture like?</h2></div></div><div></div></div><p>
                The presentation layer is using the <a href="http://wicket.apache.org/" target="_top">Apache Wicket</a> framework.
            </p><p>
                The service layer uses the <a href="http://www.springframework.org" target="_top">Spring Framework</a>.   
                Also the <a href="http://www.acegisecurity.org/" target="_top">Acegi Security</a>
                framework for Spring has been used.  JTrac is effectively a "light-weight" Java EE application and any 
                version 2.4 compliant servlet engine is sufficient for deployment.
            </p><p>
                <a href="http://www.hibernate.org/" target="_top">Hibernate</a> is used for data persistence.  This allows for 
                JTrac to be database neutral and any database supported by Hibernate can be used.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-version"></a>4.3.&nbsp;Why start with version 2.0?  What about 1.0?</h2></div></div><div></div></div><p>
                There was an earlier version of JTrac which used to be hosted at <a href="https://jtrac.dev.java.net" target="_top">https://jtrac.dev.java.net</a>
                That project was called "jTrac" (with a lowercase 'j') and it was based on Spring JDBC and MS Access.                
                JTrac was completely re-written to use Spring and Hibernate - and the 2.0 version number reflects this.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-password"></a>4.4.&nbsp;What is the username and password when you log in for the first time?</h2></div></div><div></div></div><p>
                username: admin
            </p><p>
                password: admin
            </p><p>
                Of course, it is recommended that you change the default password as soon as possible!
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-contribute"></a>4.5.&nbsp;How can I help?</h2></div></div><div></div></div><p>
                We welcome code contributions in the form of patches which you can submit
                <a href="http://sourceforge.net/tracker/?atid=825943&amp;group_id=162983" target="_top">here</a>.
                JTrac has a detailed <a href="#dev-guide" title="Chapter&nbsp;8.&nbsp;Developer Guide">developer guide</a> which can get you up 
                and running even if you are new to Java development.
            </p><p>
                Do consider contributing a translation which is very easy to do and does not require any
                knowledge of Java at all.  You can refer to <a href="#dev-translating" title="8.8.&nbsp;Adding a language translation for JTrac">this section</a>
                of the developer guide for details.
            </p><p>
                Read the section on <a href="#interim-builds" title="Chapter&nbsp;6.&nbsp;Interim Builds">interim builds</a> on how you can help 
                by testing the development builds.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-hsqldb"></a>4.6.&nbsp;We are heavy users of JTrac but it is running on the embedded HSQLDB database.  Can it cope?</h2></div></div><div></div></div><p>
                HSQLDB is surprisingly resilient and we have an instance of JTrac running in the place where
                I work that over a span of 2 years has accumulated more than 2000 items across multiple spaces
                with around 200 users.  The database file has grown beyond 10MB but there are still no signs of problems
                and the application screens still load fast.
            </p><p>
                But depending on what you are comfortable with, you can consider moving to another database if your usage
                is really high.  The <a href="#upgrading-migrating" title="7.4.&nbsp;Database Migration">upgrading section</a> of this document 
                has details on how you can migrate data from HSQLDB to other databases such as MySQL.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-morecustomfields"></a>4.7.&nbsp;Why does JTrac have a limit on custom fields?  I really need more!</h2></div></div><div></div></div><p>
                JTrac provides an ample number of custom fields which can be used for all kinds of tracking needs.
                In very rare cases where people run out of custom fields, it is invariably for "free text" fields.
                The limit on custom fields is primarily for performance reasons especially where filtered searches 
                are involved.  So when JTrac introduces the feature of being able to "tag" items, these kinds of 
                things are likely to be covered.
            </p><p>
                Anyway, if you really, really want more custom fields, the JTrac code is very clean and you can 
                easily customize a version that meets your requirements.  A few people have reported having 
                done this and for example -
                <a href="http://sourceforge.net/forum/forum.php?thread_id=1919986&amp;forum_id=552477" target="_top">this forum thread</a> 
                can help you get started.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-tracker"></a>4.8.&nbsp;How do I report bugs or feature requests?</h2></div></div><div></div></div><p>
                Use the SourceForge trackers here:
            </p><p>
                </p><div class="itemizedlist"><ul type="disc"><li><p>Bugs: <a href="http://sourceforge.net/tracker/?atid=825941&amp;group_id=162983" target="_top">http://sourceforge.net/tracker/?atid=825941&amp;group_id=162983</a></p></li><li><p>Feature Requests: <a href="http://sourceforge.net/tracker/?atid=825944&amp;group_id=162983" target="_top">http://sourceforge.net/tracker/?atid=825944&amp;group_id=162983</a></p></li></ul></div><p>                 
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-dogfood"></a>4.9.&nbsp;Why is JTrac not being used as the bug-tracker for this project?  You should be eating your own dog food right?</h2></div></div><div></div></div><p>
                We are just trying to use the SourceForge infrastructure as far as possible and the activity on
                the SourceForge trackers translates into higher rankings which is important for project visibility.
                At this point, we would rather not get into the details of hosting an instance of JTrac on the internet.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faq-references"></a>4.10.&nbsp;Do you have a list of users or references?</h2></div></div><div></div></div><p>
                Plenty.  Have a look at this page: <a href="http://j-trac.wiki.sourceforge.net/references" target="_top">http://j-trac.wiki.sourceforge.net/references</a>
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="roadmap"></a>Chapter&nbsp;5.&nbsp;Roadmap</h2></div></div><div></div></div><p>
            Have a look at our detailed <a href="#dev-guide" title="Chapter&nbsp;8.&nbsp;Developer Guide">developer guide</a> and you will find that 
            JTrac has one of the most developer-friendly set-ups among open-source projects.  It will take you
            only a few minutes to be up and running no matter which Java IDE you use.  We actively encourage 
            contributions and with your support JTrac can become better than it is today.
        </p><p>
            Apart from using the <a href="http://sourceforge.net/forum/forum.php?forum_id=552477" target="_top">forums</a>
            you can also consider joining the JTrac 
            <a href="https://lists.sourceforge.net/lists/listinfo/j-trac-users" target="_top">mailing-list</a>.
        </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-hide"></a>5.1.&nbsp;Field-Level "Hide" Permissions</h2></div></div><div></div></div><p>
                In a future version of JTrac, the ability to even hide fields depending on the role and status
                will be implemented.  The design for this is already in place.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-nested"></a>5.2.&nbsp;Nested Items</h2></div></div><div></div></div><p>
                JTrac will support "nested" items under a first-level "parent" item and the design
                and database schema for this is already in place.  This will allow users to split tasks into sub-tasks 
                and opens up other possibilities.  One of the plans in the roadmap is to build JTrac into a full-fledged
                requirements capture tool complete with test-case management and traceability.  JTrac can then be used to
                manage user-stories or use-cases for agile development teams.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-validation"></a>5.3.&nbsp;Custom Validation</h2></div></div><div></div></div><p>
                Using <a href="http://www.beanshell.org/" target="_top">Beanshell</a>, users should be able to introduce custom routines
                to validate item data entered by a user.  Even conditional validation across fields should be possible.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-scheduler"></a>5.4.&nbsp;Custom Scheduled Jobs</h2></div></div><div></div></div><p>
                Again using Beanshell, users should be able to define routines to execute periodically, say at a pre-determined
                time every day.  This would allow triggers for events such as slippage of a "due-date" field.
                This can be combined with e-mail notifications.  Also a daily dashboard summary could be mailed out once
                the scheduler is in place. [As of version 2.1.0 - the scheduler is already in place for those 
                who are working on extending JTrac.]
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-email"></a>5.5.&nbsp;Submit By Email</h2></div></div><div></div></div><p>
                JTrac should be able to monitor an e-mail account and incoming e-mail should trigger
                creation / updation of items.  It would be handy to have attachments submitted through
                email also.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-screenshot"></a>5.6.&nbsp;Screenshot Capture</h2></div></div><div></div></div><p>
                Using a Java applet, it should be possible for the user to upload a screenshot directly from the 
                system clipboard.  The user should be able to annotate (e.g. highlight a particular area of) the 
                image before uploading.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-savedsearches"></a>5.7.&nbsp;Saved Searches</h2></div></div><div></div></div><p>
                It should be possible for users to save search filters and re-use them.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-wiki"></a>5.8.&nbsp;Wiki Engine</h2></div></div><div></div></div><p>
                There is a plan to embed a wiki-engine into JTrac.  This will supplement the requirements management
                road map.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-svn"></a>5.9.&nbsp;Subversion Integration</h2></div></div><div></div></div><p>
                Integration with <a href="http://subversion.tigris.org/" target="_top">Subversion</a> has already been implemented 
                using the <a href="http://tmate.org/svn/" target="_top">JavaSVN</a> library and this will enable effective 
                integration of bug reports with commit history in the future. You can try out the existing experimental 
                support by going to the following url of your JTrac installation: http://[hostname]/jtrac/app/svn                
            </p><p>
                </p><div class="mediaobject" align="center"><img src="../images/svn-view.png" align="middle"><div class="caption"><p>Experimental Subversion support: commits per user report</p></div></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-tags"></a>5.10.&nbsp;Tags</h2></div></div><div></div></div><p>
                A one-to-many data model for being able to tag items "Web 2.0" style is already in place.  
                This would be ideal to track things such as mapping bugs to software release version numbers, 
                associating keywords with items and to do all kinds of other cool stuff.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-feeds"></a>5.11.&nbsp;RSS Feeds</h2></div></div><div></div></div><p>
                RSS feeds will be introduced so that you can monitor new items and updates to items.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-import"></a>5.12.&nbsp;Import from other tools</h2></div></div><div></div></div><p>
                Import from other issue tracking systems (such as BugZilla) to be considered.
                Once complete, this feature will allow you to import raw data from a spreadsheet, apply any
                data cleanup needed, identify and load custom fields / drop down values and finally import the items,
                creating a new Space and users if required.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-sso"></a>5.13.&nbsp;Single Sign On</h2></div></div><div></div></div><p>
                JTrac uses the <a href="http://www.acegisecurity.org/" target="_top">Acegi Security</a> 
                framework which supports integration with a
                <a href="http://www.ja-sig.org/products/cas/" target="_top">Central Authentication Service</a> (CAS) installation.
                You can refer to the <a href="#installation-cas" title="3.9.&nbsp;Integrating with CAS for Single Sign On">installation guide</a> for how to configure JTrac to use CAS 
                for single sign on.  As of version 2.1.0 JTrac supports LDAP authentication out of the box.  This needs to be 
                improved by adding an admin screen that can browse and add users from an LDAP server.  Authorization using LDAP 
                and allowing users to plug in custom authentication and authorization routines would be good to have as well.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-xmlapi"></a>5.14.&nbsp;XML API</h2></div></div><div></div></div><p>
                JTrac should be able to expose a remote XML API (SOAP or REST) so that core functionality can be 
                invoked / integrated with other systems.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-mylar"></a>5.15.&nbsp;Eclipse Mylyn integration</h2></div></div><div></div></div><p>
                <a href="http://www.eclipse.org/mylyn/" target="_top">Mylyn</a> (previously known as Mylar) integration in the 
                form of a connector (Eclipse plugin) is currently being implemented.  The remote API mentioned above is 
                also being developed (REST).
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-timetracking"></a>5.16.&nbsp;Time Tracking</h2></div></div><div></div></div><p>
                The database schema already has support for capturing planned vs actual effort against items.
                This needs to be implemented and obviously will open up a lot of possibilities.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="roadmap-reporting"></a>5.17.&nbsp;Custom Reports</h2></div></div><div></div></div><p>
                Although JTrac has an '<a href="#features-excel" title="2.11.&nbsp;Export to Excel">Excel Export</a>' feature that should
                suffice for all your reporting and charting needs, it would be good to have a reporting engine 
                that allows the user to create custom reports and even schedule reports to be sent out over e-mail.
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="interim-builds"></a>Chapter&nbsp;6.&nbsp;Interim Builds</h2></div></div><div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="interim-overview"></a>6.1.&nbsp;Overview</h2></div></div><div></div></div><p>
                For the convenience of those who would like to test the latest possible builds of JTrac without
                having to check-out and compile from version-control, binaries in WAR form are periodically uploaded
                to the JTrac web-site at this URL: <a href="http://j-trac.sourceforge.net/files/" target="_top">http://j-trac.sourceforge.net/files/</a>
            </p><p>
                You would be able to see the time-stamp of the last uploaded binary when you access the above URL.
                Subscribers to The JTrac mailing-list would be notified whenever a new binary is available.  This
                is not on a daily basis at the moment and happens only when significant changes or fixes are made in
                the development version.
            </p><p>
                If you want to stay updated about the status of JTrac development as well as contribute and brainstorm 
                ideas for incorporation into future releases, please consider joining the JTrac mailing-list at:
                <a href="https://lists.sourceforge.net/lists/listinfo/j-trac-users" target="_top">https://lists.sourceforge.net/lists/listinfo/j-trac-users</a>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="interim-notes"></a>6.2.&nbsp;Notes on using Interim Builds</h2></div></div><div></div></div><p>
                </p><div class="itemizedlist"><ul type="disc"><li><p>
                            Interim builds are provided only as WAR files.  If you are using the embedded Jetty
                            webapp-server, you have to replace the WAR that came along with the formal 
                            downloadable distribution.
                        </p></li><li><p>
                            When you are replacing the WAR file in an existing installation it is best that you 
                            delete the contents of the webapp-server temporary / work folder before re-starting.  
                            Details on how to do this are provided in the "<a href="#upgrading" title="Chapter&nbsp;7.&nbsp;Upgrading and Database Migration">upgrading</a>"
                            section of this document.
                        </p></li><li><p>
                            In rare cases, there may be database schema changes.  This will be made clear in
                            the upload notification that is broadcast on the mailing-list.  If you wish to retain 
                            existing data, you will have to run a database upgrade script.  Details on how to do this are 
                            also provided in the "<a href="#upgrading" title="Chapter&nbsp;7.&nbsp;Upgrading and Database Migration">upgrading</a>" section of this document.
                        </p></li><li><p>
                            Even if the database schema has changed, JTrac will re-create the database if one does
                            not exist on startup.  So when trying out the interim builds, this may be all that you really
                            want to do.  If you are using JTrac bundled with Jetty and / or with the embedded HSQLB database, 
                            removing the old database is as simple as deleting the "db" folder in which HSQLDB keeps
                            the data files.  Of course, you don't have to disturb your existing data at all since running a 
                            fresh instance of JTrac is as easy as extracting the distribution to a new directory.
                        </p></li></ul></div><p>                     
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="upgrading"></a>Chapter&nbsp;7.&nbsp;Upgrading and Database Migration</h2></div></div><div></div></div><p>
            Upgrading to higher versions of JTrac is usually as simple as replacing the WAR file and deleting the web-app
            server temporary / work folder before re-starting.  In some rare cases the database schema may have changed and a
            script for updating the database would then be provided.  It may also happen that upgrading the Jetty version would be 
            recommended in case you happen to be using the bundled Jetty webapp-server for deploying JTrac.
        </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading-war"></a>7.1.&nbsp;Deleting webapp temporary files</h2></div></div><div></div></div><p>
                In case you are using the bundled Jetty server in the JTrac distribution, you should delete the contents
                of the folder called "work".  Note that Jetty expects a folder called "work" to exist when it starts, 
                so ensure that you leave the empty "work" folder in place.
            </p><p>
                If you are using another application server please follow the steps for removing temporary files
                corresponding to the server that you are using.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading-database"></a>7.2.&nbsp;Upgrading the Database</h2></div></div><div></div></div><p>
                If the JTrac release notes mention database schema changes, you need to additionally run an upgrade script
                before restarting the webapp-server with the new WAR in place.  Upgrade scripts come in the form of 
                <a href="http://www.beanshell.org/" target="_top">Beanshell</a> scripts (*.bsh) and would be always released within
                the "etc" folder of the JTrac downloadable distribution.
            </p><p>
                These files are tested on HSQLDB and may need minor changes to work with
                other databases.  No re-compilation is needed, therefore making it extremely easy for you to tweak them 
                if required.  Of course it is strongly recommended that you backup your old data before an upgrade.  
                Please use the <a href="http://sourceforge.net/forum/forum.php?forum_id=552477" target="_top">JTrac forums</a> 
                for help and for helping other users with your experiences.
            </p><p>
                If you are shadowing the development builds you would be able to obtain the latest database upgrade
                scripts from here: <a href="http://j-trac.svn.sourceforge.net/viewvc/j-trac/trunk/jtrac/etc/" target="_top">http://j-trac.svn.sourceforge.net/viewvc/j-trac/trunk/jtrac/etc/</a> Look for files 
                that end with ".bsh" - e.g: "jtrac-hsqldb-2_0rc3-to-2_0.bsh"
            </p><p>
                Steps to follow:
                </p><div class="itemizedlist"><ul type="disc"><li><p>
                            First, stop the server, JTrac should not be connected to the database.
                        </p></li><li><p>
                            The "java" command should be available on the command line.
                        </p></li><li><p>
                            Get the latest beanshell jar file (~300 KB) from here: <a href="http://www.beanshell.org/bsh-2.0b4.jar" target="_top">http://www.beanshell.org/bsh-2.0b4.jar</a>
                        </p></li><li><p>
                            Get the right JDBC driver for your database. If you have been using the embedded HSQLDB 
                            database, hsqldb-x-x-x.jar will be available in the jtrac war file within "lib".
                        </p></li><li><p>
                            Edit the connection params (jdbc URL, username, password) to match your database. For HSQLDB, 
                            to make it easier - you can copy the beanshell jar and the hsqldb jar into the "db" folder of 
                            "jtrac.home".  The db folder will contain a "jtrac.script" file. There may also be a "jtrac.log" 
                            file. So when you are in the same directory as the HSQLDB data files, the URL is 
                            "jdbc:hsqldb:file:jtrac". Otherwise, replace the "jtrac" part in the URL with the relative or 
                            absolute path of where the "jtrac.script" file exists on your file-system.
                        </p></li><li><p>
                            Execute the beanshell script from the command line.  The database driver should be added to the
                            classpath along with the beanshell jar.  This is how the command would look like:
                </p><pre class="programlisting">

java -cp bsh-2.0b4.jar;hsqldb-1.8.0.1.jar bsh.Interpreter jtrac-hsqldb-2_0rc3-to-2_0.bsh
                </pre><p>                                                                            
                        </p></li><li><p>
                            If there were no errors, you can now upgrade the WAR (don't forget to delete the temporary files) 
                            and restart.
                        </p></li></ul></div><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading-jetty"></a>7.3.&nbsp;Upgrading Jetty</h2></div></div><div></div></div><p>
                If you are using the embedded Jetty web-app server, you can also choose to upgrade the JAR files that 
                make up Jetty.  This is optional, but is as simple as overwriting the contents of the "lib" directory 
                with the corresponding files within the new distribution.  You can easily check if the Jetty related JAR 
                file versions have changed because the file-names clearly include the version numbers.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading-migrating"></a>7.4.&nbsp;Database Migration</h2></div></div><div></div></div><p>
                Using the Beanshell based approach above, it is relatively straightforward to port data into another
                database.  This is useful especially in those cases where you start off using JTrac with the embedded
                HSQLDB database and then decide to scale up and move to something like MySQL.
            </p><p>
                First, you should start the application re-configured to point to the new database and let JTrac
                do the hard work of creating all the database tables.  It is not necessary for Jtrac to be shut-down
                before proceeding with the next step,  but don't log-in yet!
            </p><p>
                A Beanshell script called "jtrac-hsqldb-to-mysql.bsh" is available in the "etc" folder of the
                JTrac distribution.  You can execute this just like described in the previous section on upgrading.
                Note that you will need to have both the database drivers on the classpath in this case.  You should
                of course edit the database connection parameters (for database 1 and database 2) to suit your environment.
            </p><p>
                This particular script is extremely generic and it should be possible to use this to migrate across
                combinations of databases other than HSQLDB and MySQL.
            </p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="dev-guide"></a>Chapter&nbsp;8.&nbsp;Developer Guide</h2></div></div><div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-prerequisites"></a>8.1.&nbsp;Pre Requisites</h2></div></div><div></div></div><p>
                </p><div class="itemizedlist"><ul type="disc"><li><p>JDK 5.0 (or higher)</p></li><li><p><a href="http://maven.apache.org/" target="_top">Maven 2.X</a></p></li><li><p>Your Favourite IDE (e.g. NetBeans)</p></li><li><p>Access to the internet (or a Maven 2 repository)</p></li></ul></div><p> 
            </p><p>
                The JTrac development environment uses Maven 2 only for dependency management and generating and deploying the JTrac 
                website hosted at SourceForge.  Almost all other development actions (clean, compile etc) are fired through
                a detailed Ant script that is able to use the dependency information managed by Maven.  Using Maven ensures that
                no binaries (JAR files) need to be checked into version control at all.
            </p><p>
                You can get some idea about the details and rationale of the custom Ant + Maven integration approach from
                <a href="http://ptrthomas.wordpress.com/2006/04/18/another-way-to-integrate-maven-2-with-ant-and-netbeans/" target="_top">this blog post.</a>
            </p><p>
                But if you are comfortable using Maven, the pom.xml is Maven 2 compliant which means that you can 
                <a href="http://maven.apache.org/plugins/maven-war-plugin/" target="_top">directly build the war file</a> without Ant.
                You can even choose to use the <a href="http://mortbay.org/maven-plugin/" target="_top">maven-jetty-plugin</a> by
                uncommenting the section in pom.xml that declares this.
            </p><p>
                Although NetBeans is preferred by the JTrac developers, depending on an "IDE Neutral" Ant script
                ensures that you would easily be able to use Eclipse (or any other IDE of your choice) without any problems.
            </p><p>
                If you get stuck or have any questions about setting up and getting started, feel free to use the 
                <a href="http://sourceforge.net/forum/forum.php?forum_id=552477" target="_top">JTrac forums</a> for help.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-check-prerequisites"></a>8.2.&nbsp;Check Prerequisites</h2></div></div><div></div></div><p>
                Maven 2 should be in your "PATH".  You can test this out by opening a command prompt and trying to run the
                command "mvn".  If this is set, you are ready to move to the next step.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-download"></a>8.3.&nbsp;Download / Extract Source</h2></div></div><div></div></div><p>
                Download the source code from 
                <a href="http://sourceforge.net/project/showfiles.php?group_id=162983&amp;package_id=184104" target="_top">SourceForge</a>
                and extract it to a convenient location.  Note that the source code is a separate download from the main (binary)
                and the file name will be of the form "jtrac-src-X.Y.Z.zip".
            </p><p>
                You could choose to check out the source code directly from the JTrac SourceForge Subversion repository.
                The Subversion URL for the JTrac source code is as follows:
                </p><pre class="programlisting">

https://j-trac.svn.sourceforge.net/svnroot/j-trac/trunk/jtrac
                </pre><p>               
           </p><p>
               If you are behind a corporate firewall that requires NTLM authentication, you can try a tool called
               <a href="http://ntlmaps.sourceforge.net/" target="_top">NTLMAPS</a> to check out from Subversion.
           </p><p>
               If you are using Windows, we recommend <a href="http://tortoisesvn.tigris.org/" target="_top">TortoiseSVN</a>
                as a Subversion client.
           </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-build-properties"></a>8.4.&nbsp;Customize Ant Build Properties File</h2></div></div><div></div></div><p>
                The downloaded source code should contain a sample "build.properties" file or you can look at the XML comment
                provided at the top of "build.xml" for the structure.  Actually the couple or so entries are optional and you will need
                them only if you want to use Tomcat (instead of Jetty) or use the <a href="http://jakarta.apache.org/jmeter/" target="_top">JMeter</a>
                script available for load-testing.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-antprops-generate"></a>8.5.&nbsp;Generate Dependencies Properties File</h2></div></div><div></div></div><p>
                Open a command prompt and change to the "jtrac" folder.  Run the following command:                
            </p><p>
                </p><pre class="programlisting">

mvn antprops:generate
                </pre><p>
            </p><p>
                This step will not only download all the required JAR files (which may take time only for the first time),
                but also generate a standard properties file that will contain all the information required for
                the Ant build script to operate.  The file generated is called "build-deps.properties"
            </p><p>
                Note that you need to perform this step every time the "pom.xml" file changes.  This happens rarely 
                and typically when newer versions of JTrac dependencies (e.g. Spring and Hibernate) are available.  Keep
                watching for changes in the versions of JTrac dependencies or specifically changes to "pom.xml" to avoid 
                any problems.
            </p><p>
                If the command does not work, maybe you are not connected to the internet.  Here's a tip that may help if you 
                are behind an HTTP proxy.  This has been reported to work even when the proxy requires NTLM authentication.  
                You can append a parameter when running Maven commands as follows:
            </p><p>
                </p><pre class="programlisting">

mvn antprops:generate -Dhttp.proxyHost=172.19.56.56
                </pre><p>
            </p><p>
                Note that if your proxy port is different from the default 80, you will have to add an "http.proxyPort" 
                parameter as well.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-eclipse"></a>8.6.&nbsp;Import project into your IDE</h2></div></div><div></div></div><p>
                If you are a NetBeans user you are ready to build and run JTrac!  Just use the "Open Project"
                option from the "File" menu, browse to and select the "jtrac" folder.  You should be able to open it 
                as a valid NetBeans project.
            </p><p>
                If you want to use Eclipse, that's easy as well.  First you have to run the following command and
                Maven will then generate the Eclipse project descriptor files for you.
            </p><p>
                </p><pre class="programlisting">

mvn eclipse:eclipse
                </pre><p>
            </p><p>
                That should create the ".project" and the ".classpath" files.  Now its just a matter of
                importing "Existing Project into Workspace" within Eclipse.  Note that the Eclipse project descriptor
                files also need to be re-generated when JTrac dependencies change, i.e. when "pom.xml" changes.
                Make sure you do this also if you ever run "mvn antprops:generate".
            </p><p>
                For Eclipse to work with Maven 2, you have to have a classpath variable called "M2_REPO" set correctly.
                Refer the <a href="http://maven.apache.org/guides/mini/guide-ide-eclipse.html" target="_top">Maven 2 documentation</a>
                for details on how to do this.
            </p><p>
                While debugging, if you would like to step through the source of dependencies as well, you can tell Maven
                to download sources for dependent jar files.  Note that source may not be available for some jars.
            </p><p>
                </p><pre class="programlisting">

mvn eclipse:eclipse -DdownloadSources=true
                </pre><p>
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-building"></a>8.7.&nbsp;Building And Running JTrac</h2></div></div><div></div></div><p>
                You can explore all the Ant targets that are available. You can also try the "jetty-start" 
                Ant target straight away that will compile, create and deploy the exploded war as well as boot a Jetty server.
                For NetBeans users, the "jetty-start" target is conveniently mapped to the "Run Main Project (F6)" shortcut, 
                once you make JTrac the "main project".  Note that this Ant target is smart enough to detect if Jetty 
                is already running and will perform a shutdown if required before re-starting.
            </p><p>
                When starting with freshly checked-out source code, the Ant script may prompt you for a JTrac Version
                and then create a "version.properties" file.  This process is just to make the JTrac release process easier 
                so it does not really matter what you type.  You would typically need to do this only once in development mode. 
            </p><p>
                Maven has been configured to download the Jetty web server which drastically reduces the amount of
                setup that you need to do in order to set up your development environment.  Since JTrac creates 
                the HSQLDB database if required on startup, you do not need to worry about  installing, configuring 
                and creating any database either.
            </p><p>
                If you want to use Apache Tomcat instead of Jetty, just have "build.properties" point to a valid Tomcat instance.            
                By now, you may have noticed that because of the 
                <a href="http://ptrthomas.wordpress.com/2006/03/25/how-to-start-and-stop-tomcat-from-ant/" target="_top">Ant script</a>, 
                you don't even need a Tomcat or Jetty plugin in either NetBeans or Eclipse.
            </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dev-translating"></a>8.8.&nbsp;Adding a language translation for JTrac</h2></div></div><div></div></div><p>
                JTrac has full internationalization (i18n) support and you can easily add a new language without re-compiling JTrac.
                All you need to do is introduce a translated version of the existing "messages.properties" file into
                the "/WEB-INF/classes" folder.  Note that you will need to unzip the WAR file in order to add more files to it.
            </p><p>
                For example, if you need to add a translation into French, a file called "messages_fr.properties" should exist.
                You can refer the list of Java locale codes 
                <a href="http://java.sun.com/j2se/1.5.0/docs/guide/intl/locale.doc.html" target="_top">here</a>.  Note that country
                specific locales are also supported, for example "fr_CA" means "French, Canada".  
            </p><p>
                You can look at the existing translations e.g. "messages_de.properties" as examples. Note that
                JTrac needs to be restarted for changes to the properties files to take effect.  However,
                switching the language for any user can easily be done anytime from the "Edit Your Profile" link on the
                options screen and this takes effect the instant the user saves his profile.
            </p><p>
                You can also get the latest versions of the "messages.properties" as well as the available
                translations directly from version control at this url:
                <a href="http://j-trac.svn.sourceforge.net/viewvc/j-trac/trunk/jtrac/src/main/resources/" target="_top">http://j-trac.svn.sourceforge.net/viewvc/j-trac/trunk/jtrac/src/main/resources/</a>
                Since these may change a lot, it is recommended that you check here as well before submitting
                a translation.  We recommend that you submit translations as attachments on the 
                <a href="http://sourceforge.net/tracker/?atid=825943&amp;group_id=162983" target="_top">JTrac patches tracker</a> 
                where we keep track of code contributions as well.                
            </p><p>                
                You can use this nice open-source tool called <a href="https://prbeditor.dev.java.net/" target="_top">PRBEditor</a>
                that really helps by showing the English and translated versions side by side on a single screen.  It also
                takes care of handling special characters.
            </p></div></div></div></body></html>